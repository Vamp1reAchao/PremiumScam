# Database Module

Модуль для работы с базой данных пользователей SQLite.

## Как работает скрипт

1. **Инициализация**: При запуске создается база данных `database.db` и таблица `users`
2. **Подключение**: Каждая функция открывает соединение с БД, выполняет операцию и закрывает соединение
3. **Управление пользователями**: Добавление, проверка существования, получение данных
4. **Система шансов**: Увеличение/изменение шансов пользователей
5. **Реферальная система**: Подсчет и увеличение количества рефералов

## Функции

- `add_user(user_id, username, referral_id)` - добавить пользователя
- `user_exists(user_id)` - проверить существование пользователя
- `get_user(user_id)` - получить данные пользователя
- `get_users()` - получить всех пользователей
- `increment_chance(user_id, chance)` - увеличить шанс
- `detele_chances(user_id, chance)` - установить шанс
- `get_user_chance(user_id)` - получить шанс пользователя
- `get_user_rolled(user_id)` - получить количество попыток
- `get_user_zero_referrals()` - пользователи без рефералов
- `increment_referrals(user_id)` - увеличить рефералы
- `get_user_count()` - общее количество пользователей

## Структура таблицы users

- `id` - ID пользователя (PRIMARY KEY)
- `username` - имя пользователя
- `chance` - шанс (по умолчанию 0.0)
- `count_refs` - количество рефералов (по умолчанию 0)
- `referral_id` - ID реферера (может быть NULL)
- `rolled` - количество попыток (по умолчанию 0)